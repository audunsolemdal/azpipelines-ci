variables:
   containerRegistry: 'sdpequinor'
   serviceConnection: 'dockerhub-ci'
   containerRepo: 'dockerhub-citest'

steps:

- task: Docker@2
  displayName: Login to Docker Hub
  inputs:
    command: login
    containerRegistry: $(serviceConnection)
- task: Docker@2
  displayName: Build and Push
  inputs:
    command: buildAndPush
    repository: $(containerRegistry)/$(containerRepo)
    tags: |
      latest